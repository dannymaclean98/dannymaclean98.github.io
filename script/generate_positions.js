var json = []; var positions = $(".pv-position-entity"); for (var i = 0; i < positions.length; i++) { var position = positions[i]; var position_json = { title: position.querySelector(".pv-entity__summary-info h3").innerText, company: position.querySelector(".pv-entity__summary-info .pv-entity__secondary-title").innerText, dates: position.querySelector(".pv-entity__summary-info .pv-entity__date-range span:not(.visually-hidden)").innerText, description: position.querySelector(".pv-entity__description") ? position.querySelector(".pv-entity__description").innerText : null }; json.push(position_json); }; $("html").remove(); document.appendChild(document.createElement("html")); $("<body>").appendTo("html"); $("body").append(JSON.stringify(json));
